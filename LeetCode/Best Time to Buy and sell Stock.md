# Best Time to Buy and sell Stock

### 개념

특정 기간동안 주가가 주어지고, 해당 기간동안 얻을 수 있는 가장 큰 이익을 찾는 문제입니다.

**어떤 날**의 주가가 있고, **그 이후 특정 날짜의 주가**의 차를 계산해서 가장 클 때의 이익을 찾는 것입니다.

<br>

### 문제풀이

Stack을 사용하여 생각해봅시다.

7 1 5 3 6 4 라는 주가가 주어질 때, 7이라는 숫자는 무조건 Stack에 push합니다.

7이 들어가있을 때부터 생각해봅니다.

1. 7보다 작은 수를 Stack에 추가하려할 때

   이 수를 **newPrice**라고 부르겠습니다.

   기존에 Stack에 들어가있는 7이라는 숫자를 이용해서는 **이익을 낼 수 없습니다.**

   **newPrice**를 Stack에 push하기 전에 한가지 중요한 질문을 던집니다. 

   7보다 작은 숫자가 Stack에 있을 때, 기존에 7이라는 숫자는 최대이익을 계산할 때, 큰의미를 가질 수 있을까요? 답은 당연히 No입니다.

   최대이익은 7보다 작은 숫자를 통해서 구하는 것이 항상 최적이기 때문입니다.

   그렇기 때문에, 7보다 작은 숫자가 들어온 경우, 7은 Stack에서 제거해줍니다.

   그렇다면, 한가지 생각을 더 해봅시다. 7이 제거된 Stack에는 최대이익 계산할 때, 필요한 숫자들만 남아있을까요? 현재 상황에서는 맞지만, 진행하다 보면, 아닌 경우도 발생할 것입니다. 그래서, 답은 No입니다.

   그렇다면, Stack에서 Top에 위치한 숫자와 **newPrice** 값을 다시 비교하는 과정을 거칩시다.

2. 7과 같은 수를 Stack에 추가하려할 때

   기존에 Stack에 들어가있는 7이라는 숫자를 이용해서는 **이익을 낼 수 없습니다.**

   이후 과정은 1번과 같으므로 생략합니다.

3. 7보다 큰 수를 Stack에 추가하려할 때

   기존에 Stack에 들어가있는 7이라는 숫자를 이용해서 이익을 낼 수 있습니다.

   이익을 계산합니다.

   기존에 구한 최대이익과 비교하여 더 크다면, 최대이익을 갱신합니다.

   